# 快速使用指南

## 运行机器人

现在可以启动机器人了！

```bash
npm start
```

## 首次使用流程

1. **启动后会显示二维码**，使用微信扫码登录
2. **登录成功**后，机器人会开始监听配置的群聊
3. **测试功能**：在群里发送配置的关键词，机器人会自动回复

## 配置你的机器人

### 第一步：修改目标群聊

打开 `config.js`，修改第 4-8 行：

```javascript
targetRooms: [
  '你的群名称',  // 改成你实际的群名
  // '工作群',
],
```

### 第二步：自定义回复规则

在 `config.js` 的第 11-30 行添加你的规则：

```javascript
autoReplyRules: [
  {
    keyword: /关键词/,  // 支持正则表达式
    reply: '这里是回复内容'
  },
  // 添加更多规则...
],
```

## 常见问题解决

### ❌ 问题：扫码后提示登录失败

**原因**：部分微信账号不支持网页登录协议

**解决方案**：
1. 使用注册时间较长的微信账号
2. 确保微信账号已实名认证
3. 如果仍然失败，需要使用付费的 Puppet（如 padlocal）

### ❌ 问题：机器人收不到消息

**检查清单**：
1. 确认群名称配置正确（完全匹配）
2. 查看终端日志，确认机器人已登录
3. 检查 `replyOnlyWhenMentioned` 是否设置为 true

**调试方法**：
在 bot.js 第 48 行后添加日志：

```javascript
const roomTopic = await room.topic()
console.log('当前群名称:', roomTopic)  // 查看实际群名
```

### ⚠️ 关于安全漏洞警告

安装时出现的安全警告来自 Wechaty 的底层依赖，**对于个人学习和测试项目影响不大**。

如果是生产环境，建议：
1. 使用更新的 Puppet 版本
2. 考虑使用官方付费服务
3. 定期更新依赖包

**不建议**执行 `npm audit fix --force`，因为会降级到不兼容的版本。

## 测试示例

配置完成后，在群里发送：

- 发送 "你好" → 机器人回复欢迎消息
- 发送 "帮助" → 机器人显示功能列表
- @机器人 + 消息 → 机器人会@你回复

## 进阶功能

查看 `config.advanced.js` 了解更多高级配置：
- 动态回复（时间、随机消息）
- 防刷屏限制
- 新成员欢迎
- AI 对话集成

## 停止机器人

按 `Ctrl + C` 即可优雅退出

---

祝你使用愉快！如有问题，查看 README.md 获取更多帮助。
